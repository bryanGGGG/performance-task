function RemoveSprites () {
    sprites.destroy(Gunner)
    sprites.destroy(Mage)
    sprites.destroy(SwordFighter)
    tiles.setCurrentTilemap(tilemap`level1`)
}
scene.onPathCompletion(SpriteKind.Enemy, function (sprite, location) {
    statusbar.value += 0 - statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, sprite).value
    sprites.destroy(sprite)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Shoot()
})
function CharacterSelection () {
    scene.setBackgroundImage(img`
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ffffffffffff1111111111111111111111111
        111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ffffffffffffff11111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111fffffffff11111111111111111111111111111111111111111fffffffffffffff1111111111111111111111
        111111111111111111111111111111111ffffff11111111111111111111111111111111ffffffffffff1111111111111111111111111111111111111111fffffffffffffff1111111111111111111111
        111111111111111111111111111111111fffffff1111111111111111111111111111111fffffffffffff111111111111111111111111111111111111111fffffffffffffff1111111111111111111111
        11111111111111111111111111111111ffffffff111111111111111111111111111111fffffffffffffff1111111111111111111111111111111111111111111111ffffffff111111111111111111111
        1111111111111111111111111111111fffffffff11111111111111111111111111111ffffffffffffffff111111111111111111111111111111111111111111111111ffffff111111111111111111111
        111111111111111111111111111111ffffffffff11111111111111111111111111111ffffffff1ffffffff11111111111111111111111111111111111111111111111ffffff111111111111111111111
        11111111111111111111111111111fffffffffff11111111111111111111111111111fffffff111ffffffff1111111111111111111111111111111111111111111111ffffff111111111111111111111
        11111111111111111111111111111fffffffffff11111111111111111111111111111ffffff11111fffffff1111111111111111111111111111111111111111111111ffffff111111111111111111111
        1111111111111111111111111111ffffffffffff11111111111111111111111111111fffff111111ffffffff11111111111111111111111111111111111111111111fffffff111111111111111111111
        111111111111111111111111111fffffffffffff11111111111111111111111111111111111111111fffffff1111111111111111111111111111111111111111111ffffffff111111111111111111111
        111111111111111111111111111fffffff1fffff111111111111111111111111111111111111111111ffffff11111111111111111111111111111111111111111ffffffffff111111111111111111111
        111111111111111111111111111fffffff1fffff111111111111111111111111111111111111111111ffffff1111111111111111111111111111111111111111ffffffffff1111111111111111111111
        111111111111111111111111111fffffff1fffff1111111111111111111111111111111111111111111fffff1111111111111111111111111111111111111ffffffffffff11111111111111111111111
        111111111111111111111111111ffffff11fffff1111111111111111111111111111111111111111111fffff1111111111111111111111111111111111111fffffffffff111111111111111111111111
        111111111111111111111111111fffff111fffff1111111111111111111111111111111111111111111fffff1111111111111111111111111111111111111ffffffffff1111111111111111111111111
        1111111111111111111111111111111111ffffff1111111111111111111111111111111111111111111fffff1111111111111111111111111111111111111fffffffffff111111111111111111111111
        1111111111111111111111111111111111ffffff1111111111111111111111111111111111111111111fffff1111111111111111111111111111111111111ffffffffffff11111111111111111111111
        1111111111111111111111111111111111ffffff1111111111111111111111111111111111111111111fffff11111111111111111111111111111111111111fffffffffff11111111111111111111111
        1111111111111111111111111111111111ffffff111111111111111111111111111111111111111111ffffff111111111111111111111111111111111111111111ffffffff1111111111111111111111
        1111111111111111111111111111111111fffff1111111111111111111111111111111111111111111ffffff1111111111111111111111111111111111111111111fffffff1111111111111111111111
        1111111111111111111111111111111111fffff1111111111111111111111111111111111111111111ffffff11111111111111111111111111111111111111111111ffffff1111111111111111111111
        1111111111111111111111111111111111fffff111111111111111111111111111111111111111111fffffff11111111111111111111111111111111111111111111ffffff1111111111111111111111
        1111111111111111111111111111111111fffff111111111111111111111111111111111111111111ffffff111111111111111111111111111111111111111111111ffffff1111111111111111111111
        1111111111111111111111111111111111fffff1111111111111111111111111111111111ffffffffffffff11111111111111111111111111111111111111111111fffffff1111111111111111111111
        1111111111111111111111111111111111fffff11111111111111111111111111111111ffffffffffffffffff11111111111111111111111111111111111111111ffffffff1111111111111111111111
        1111111111111111111111111111111111fffff11111111111111111111111111111111ffffffffffffffffffff1111111111111111111111111111111111111ffffffffff1111111111111111111111
        11111111111111111111111fffff111111fffff11111111111111111111111111111111ffffffffffffffffffffffff1111111111111111111111111111111fffffffffff11111111111111111111111
        11111111111111111111111ffffffffffffffffffffff11111111111111111111111111fffffffffffffffffffffffff111111111111111111111111ffffffffffffffff111111111111111111111111
        11111111111111111111111ffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffff111111111111111111111111fffffffffffffff1111111111111111111111111
        11111111111111111111111ffffffffffffffffffffffff111111111111111111111111fffffffffffffffffffffffff111111111111111111111111ffffffffffffff11111111111111111111111111
        11111111111111111111111ffffffffffffffffffffffff111111111111111111111111ffffffffffff1111fffffffff111111111111111111111111ffffffffffff1111111111111111111111111111
        111111111111111111111111fffffffffffffffffffffff111111111111111111111111ffffffff11111111111ffffff111111111111111111111111ffffffffff111111111111111111111111111111
        11111111111111111111111111111111111111111ffffff11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
        `)
    Gunner = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        .....fffff..........
        ....faaaaaff........
        ...faaaaaaaaf.......
        ..faa22222222f......
        ..faa22222222f......
        ..faaaa22222ccff....
        ..ffbaaabfbcfcccf...
        ..ffbfbfbfbfbcccf...
        ..f8888fbbbf8cc6fff.
        ..f88888888888666b6f
        ..fbb888888886666b6f
        ..ffbb88888bbf66fff.
        ...fbcb88bbbf.ff....
        ...ffccbbbccf.......
        ....fccfffccf.......
        ....fccf.fccf.......
        `, SpriteKind.Player)
    Gunner.setPosition(33, 102)
    Mage = sprites.create(img`
        ..................
        ........fff.......
        .......fc2cf......
        .....ffcf22ff.....
        ...ffcc2222ccff...
        ..fccf222f22cccf..
        .fcff2f2f22f2ffcf.
        .fcff2ff22ff2ffcf.
        ..fc2f2ffff222cf..
        ..fee22222222eef..
        ..feee1fddf1eeef..
        ..feee1fddf1eeef..
        ...feeddddddeef...
        ...fddf2ff2fddf...
        ..fdfcf2222fffdf..
        ..fddf222222fddf..
        ...ffcf2222fcff...
        .....ffffffff.....
        `, SpriteKind.Player)
    Mage.setPosition(83, 102)
    SwordFighter = sprites.create(img`
        ..................
        ..................
        ..................
        ....fff.......f...
        ...f868fffffff1f..
        ..f866f1bbbbff1f..
        ..866ffb1111bf1f..
        ..f6f.fbbbffff1f..
        ...f..fbbbffff1f..
        ......ffbbbbbf1f..
        ..ffffffffffff1f..
        .f11668fbbbbf888f.
        .f16688fbbbbbfff..
        .f66668fbbbb11f...
        .f66688fbbbb11f...
        ..f688fffff6ff....
        ...f8ff...f66f....
        ...ffff...ffff....
        `, SpriteKind.Player)
    SwordFighter.setPosition(130, 102)
    game.showLongText("Enter number for fighter", DialogLayout.Top)
    FighterChoice = 0
    CharacterList = [
    img`
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        .....fffff..........
        ....faaaaaff........
        ...faaaaaaaaf.......
        ..faa22222222f......
        ..faa22222222f......
        ..faaaa22222ccff....
        ..ffbaaabfbcfcccf...
        ..ffbfbfbfbfbcccf...
        ..f8888fbbbf8cc6fff.
        ..f88888888888666b6f
        ..fbb888888886666b6f
        ..ffbb88888bbf66fff.
        ...fbcb88bbbf.ff....
        ...ffccbbbccf.......
        ....fccfffccf.......
        ....fccf.fccf.......
        `,
    img`
        ..................
        ........fff.......
        .......fc2cf......
        .....ffcf22ff.....
        ...ffcc2222ccff...
        ..fccf222f22cccf..
        .fcff2f2f22f2ffcf.
        .fcff2ff22ff2ffcf.
        ..fc2f2ffff222cf..
        ..fee22222222eef..
        ..feee1fddf1eeef..
        ..feee1fddf1eeef..
        ...feeddddddeef...
        ...fddf2ff2fddf...
        ..fdfcf2222fffdf..
        ..fddf222222fddf..
        ...ffcf2222fcff...
        .....ffffffff.....
        `,
    img`
        ..................
        ..................
        ..................
        ....fff.......f...
        ...f868fffffff1f..
        ..f866f1bbbbff1f..
        ..866ffb1111bf1f..
        ..f6f.fbbbffff1f..
        ...f..fbbbffff1f..
        ......ffbbbbbf1f..
        ..ffffffffffff1f..
        .f11668fbbbbf888f.
        .f16688fbbbbbfff..
        .f66668fbbbb11f...
        .f66688fbbbb11f...
        ..f688fffff6ff....
        ...f8ff...f66f....
        ...ffff...ffff....
        `
    ]
    FighterChoice = game.askForNumber("", 1)
}
function Shoot () {
    if (Gunner) {
        BulletSpeed = 50
        GunnerBullet = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . f f f f . . . 
            . . . . . . . f f 7 7 7 7 f . . 
            . . . . f f f 7 7 7 1 1 7 7 f . 
            . . f f 7 7 7 7 1 1 1 1 1 7 f . 
            . f 7 7 7 1 1 1 1 1 1 1 1 7 f . 
            . f 7 1 1 1 1 1 1 1 1 1 1 7 f . 
            . f 7 7 7 7 7 7 1 1 1 1 1 7 f . 
            . . f f f f 7 7 7 7 1 1 7 7 f . 
            . . . . . . f f f 7 7 7 7 f . . 
            . . . . . . . . . f f f f . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, ThePlayer, BulletSpeed, 0)
        BulletDestination = Math.atan2(BadGuy.y - ThePlayer.y, BadGuy.x - ThePlayer.x)
        GunnerBullet.setVelocity(BulletSpeed * Math.cos(BulletDestination), BulletSpeed * Math.sin(BulletDestination))
    }
}
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.gameOver(false)
})
function Spawning (HP: number, speed: number) {
    spawn = tiles.getTilesByType(sprites.castle.tilePath2)
    for (let index = 0; index < 1; index++) {
        BadGuy = sprites.create(BadGuys._pickRandom(), SpriteKind.Enemy)
        tiles.placeOnTile(BadGuy, tiles.getTileLocation(4, 0))
    }
    goal = scene.aStar(tiles.getTileLocation(4, 0), tiles.getTileLocation(14, 19))
    scene.followPath(BadGuy, goal, speed)
    EnemyBar = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
    EnemyBar.attachToSprite(BadGuy)
    EnemyBar.max = HP
    EnemyBar.value = HP
    if (info.score() == 10) {
        EnemyBar.value += 2
        BadGuy.setVelocity(speed + 20, speed + 20)
    }
}
function Waves () {
    timer.after(1000, function () {
        for (let index = 0; index < 20; index++) {
            pause(1000)
            Spawning(10, 20)
        }
        timer.after(10000, function () {
            for (let index = 0; index < 40; index++) {
                pause(1000)
                Spawning(8, 25)
            }
            timer.after(20000, function () {
                for (let index = 0; index < 80; index++) {
                    pause(2000)
                    Spawning(5, 35)
                }
            })
        })
    })
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -2
    if (statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value == 0) {
        info.changeScoreBy(1)
        sprites.destroy(otherSprite)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    statusbar.value += -2
})
let EnemyBar: StatusBarSprite = null
let goal: tiles.Location[] = []
let spawn: tiles.Location[] = []
let BadGuy: Sprite = null
let BulletDestination = 0
let GunnerBullet: Sprite = null
let BulletSpeed = 0
let SwordFighter: Sprite = null
let Mage: Sprite = null
let Gunner: Sprite = null
let statusbar: StatusBarSprite = null
let FighterChoice = 0
let CharacterList: Image[] = []
let ThePlayer: Sprite = null
let BadGuys: Image[] = []
scene.setBackgroundImage(img`
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666611111666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666111111666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666111111666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666611111166666666666111111666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666611111111166666666666111111666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666661111111111166666666666111116666666666666666666666666666666666666666666666666666666666666666666666666666111111666666666666666666666666666
    6666666666666666666666611111111111166666666666111116666666666666666666666666666666666666666666666666666666666666666666666666666111111666666666666666666666666666
    6666666666666666666666111111111111166666666666111116666666666666666666666666666666666666666666666666666666666666666666666666666111111666666666666666666666666666
    6666666666666666666666111111111116666666666666111116666666666666666666666666666666666666666666666666666666666666666666666666661111111666666666666666666666666666
    6666666666666666666661111111116666666666666666111116666666666666666666666666666666666666666666666666666666666666666666666666661111111666666666666666666666666666
    6666666666666666666661111111166666666666666666111116666666666666666666666666666666666666666666666666666666666666666666666666661111116666666666666666666666666666
    6666666666666666666611111111666666666666666661111116666666666666666666666666666666666666666666666666666666666666666666666666661111116666666666666666666666666666
    6666666666666666666611111116666666666666666661111116666666666666666666666666666666666666666666666666666666666666666666666666661111166666666666666666666666666666
    6666666666666666666611111166666666666666666661111116666666666666666666666661111166666666666666666666666666666666666666666666661111166666666666666666666666666666
    6666666666666666666611111166666666666666666661111116666666666666666666666661111116666666666666666666666666666666666666666666661111166666666666666666666666666666
    6666666666666666666111111666666666666666666661111111111111111666666666666611111111111666666666666666666611111666666666666666661111166666666666661111111666666666
    6666666666666666666111111666666666666666666661111111111111111166666666666611111111111166666666666666666111111111116666666666661111166666666666661111111166666666
    6666666666666666666111111666666666666666666661111111111111111116666666666611111111111116666666666666666111111111111666666666661111166666666666661111111166666666
    6666666666666666666111111666666666666666666661111111111111111116666666666611111111111111666666666666666111111111111116666666661111116666666666661111111116666666
    6666666666666666666111116666666666666666666661111111111111111111666666666111111111111111166666666666666111111111111111666666661111111666666666611111111116666666
    6666666666666666666111116666666666666666666661111111666611111111666666661111111611111111116666666666661111111111111111666666661111111166666666611111111116666666
    6666666666666666666111116666666666666666666661111116666661111111166666661111111666111111116666666666661111111611111111166666661111111166666666111111111116666666
    6666666666666666666111116666666666666666666661111116666666111111166666661111111666611111111666666666661111116661111111166666666111111166666666111111111116666666
    6666666666666666666111116666666666666666666661111116666666611111166666661111116666661111111666666666611111116666111111116666666111111116666666111111111116666666
    6666666666666666666111116666666666666666666661111166666666611111166666661111166666666111111666666666611111166666611111116666666611111116666666111111111116666666
    6666666666666666666111116666666666666666666661111166666666611111166666661111166666666111111166666666611111166666661111116666666661111111666666111111111116666666
    6666666666666666666111111666666666666666666661111166666666661111116666661111166666666611111166666666611111166666661111116666666661111111666666111111111116666666
    6666666666666666666111111166666666666666666661111166666666661111116666661111166666666611111166666666111111666666666111116666666666111111666661111111111116666666
    6666666666666666666111111111666666111116666661111166666666661111116666661111166666666611111166666666111111666666666111116666666666111111666661111111111166666666
    6666666666666666666111111111111111111116666661111166666666661111116666661111116666666611111166666666111111666666661111116666666666611111166661111111111166666666
    6666666666666666666611111111111111111116666661111166666666661111116666661111116666666611111166666666111111666666661111116666666666611111166661111111111166666666
    6666666666666666666661111111111111111116666661111166666666666111116666661111116666666611111166666666111116666666661111116666666666611111166661111166666666666666
    6666666666666666666661111111111111111116666661111166666666666111116666661111111666666611111166666666111116666666611111116666666666611111166661111166666666666666
    6666666666666666666666661111111111111116666661111166666666666111116666666111111666666111111666666666111116666666111111166666666666661111166661111166666666666666
    6666666666666666666666666666666666666666666661111166666666666111116666666111111166666111111666666666111116666666111111166666666666661111166661111116666666666666
    6666666666666666666666666666666666666666666661111166666666666666666666666111111111661111111666666666111116666611111111166666666666661111166661111116666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666611111111111111111666666666111116611111111111666666666666611111166661111111166666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666611111111111111116666666666111111111111111116666666666666111111166661111111111111666666
    6666666666666666666666666666666666666666666666666666666666666666666666666661111111111111116666666666111111111111111116666666666661111111166666111111111111111111
    6666666666666666666666666666666666666666666666666666666666666666666666666666111111111111166666666666111111111111111166666666111111111111166666111111111111111111
    6666666666666666666666666666666666666666666666666666666666666666666666666666661111111111666666666666111111111111116666666666111111111111666666611111111111111111
    6666666666666666666666666666666666666666666666666111116666666666666666666666666111111116666666666666111111111116666666666666111111111116666666666111111111111111
    6666666666666666666666666666666666666666666666666111116666666666666666666666666666666666666666666666611111111166666666666666111111111166666666666666661111111111
    6666666666666666666666611111111166666666666666666111116666666666666666666666666666666666666666666666666666666666666666666666111111111166666666666666666666666666
    6666666666666666666666111111111166666666666666666111116666666666666666666666666666666666666666666666666666666666666666666666111111111666666666666666666666666666
    6666666666666666666661111111111166666666666666666111116666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666611111111111166666666666666666111116666666666666666666666666666666666666661111111166666666666666666666666666666666666666666666666666666666666
    6666666666666666666611111111111166666666666666666111116666666666666661111111166666666666666661111111166666666661111111111666666666666666666666666666666666666666
    6666666666666666666611111116666666666666666666666111116666666666666661111111116666666666666611111111166666666661111111111666666666666666666666666666666666666666
    6666666666666666666611111166666666666666666666666111116666666666666111111111111116666666666611111111166666666611111111111666666666666666666666666666666666666666
    6666666666666666666611111666666666666666666666666111116666666666661111111111111116666666666611111111166666666611111111111666666666666666666666666666666666666666
    6666666666666666666611111666666666666666666666666111116666666666611111111111111116666666666611111166666666666111111111111666666666666666666666666666666666666666
    6666666666666666666611111666666666666666666666666111116666666666611111111111111116666666666611111666666666666111111111111666666666666666666666666666666666666666
    6666666666666666666611111666666666666666666666666111116666666666111111111111111116666666666611111166666666666111111666666666666666666666666666666666666666666666
    6666666666666666666611111666666666666666666666666111116666666666111111166111111116666666666611111166666666666111111666666666666666666666666666666666666666666666
    6666666666666666666611111166666666666666666666666111116666666666111111666111111116666666666611111111166666666111116666666666666666666666666666666666666666666666
    6666666666666666666611111166666666666666666666666111116666666666111111666111111116666666666611111111116666666111111166666666666666666666666666666666666666666666
    6666666666666666666611111116666666666666666666666111116666666666111116661111111116666666666611111111116666666111111111166666666666666666666666666666666666666666
    6666666666666666666611111116666666666666666666666111116666666666111116661111111116666666666661111111116666666111111111116666666666666666666666666666666666666666
    6666666666666666666661111111666666666666666666666111116666666666111111661111111111666666666666111111116666666111111111116666666666666666666666666666666666666666
    6666666666666666666661111111166666611111666666666111116666666666111111661111111111666666666666661111116666666611111111116666666666666666666666666666666666666666
    6666666666666666666666111111111111111111666666666111111666666666111111111111111111666666666666666111116666666666111111116666666666666666666666666666666666666666
    6666666666666666666666111111111111111111666666666111111666666666111111111111111111166666666666661111116666666666661111116666666666666666666666666666666666666666
    6666666666666666666666611111111111111111666666666111111666666666111111111111111111111666666666111111116666666666661111116666666666666666666666666666666666666666
    6666666666666666666666661111111111111111666666666111111666666666611111111111111111111666666611111111116666661111111111116666666666666666666666666666666666666666
    6666666666666666666666666111111111111116666666666111111666666666661111111111611111111666666611111111116666661111111111116666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666611111111666666611111111166666661111111111116666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666661111111666666611111111166666661111111111166666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666611111166666666661111111111666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666661111111666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    `)
game.showLongText("Between gunner, mage or Swordfighter", DialogLayout.Bottom)
CharacterSelection()
RemoveSprites()
BadGuys = [
img`
    . . . . . f f f f f f . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f f f f f . . . . . 
    . . f f f f f f f f f f f f . . 
    . . f . f f f f f f f f . f . . 
    . . f . f f f f f f f f . f . . 
    . . f . f f f f f f f f . f . . 
    . . f . f f f f f f f f . f . . 
    . . f . f f f f f f f f . f . . 
    . . . . f f f f f f f f . . . . 
    . . . f f f f f f f f f f . . . 
    . . . f f f . . . . f f f . . . 
    . . . f f f . . . . f f f . . . 
    . . . f f f . . . . f f f . . . 
    . . f f f f . . . . f f f f . . 
    `,
img`
    4 4 4 . . 4 4 4 4 4 . . . . . . 
    4 5 5 4 4 5 5 5 5 5 4 4 . . . . 
    b 4 5 5 1 5 1 1 1 5 5 5 4 . . . 
    . b 5 5 5 5 1 1 5 5 1 1 5 4 . . 
    . b d 5 5 5 5 5 5 5 5 1 1 5 4 . 
    b 4 5 5 5 5 5 5 5 5 5 5 1 5 4 . 
    c d 5 5 5 5 5 5 5 5 5 5 5 5 5 4 
    c d 4 5 5 5 5 5 5 5 5 5 5 1 5 4 
    c 4 5 5 5 d 5 5 5 5 5 5 5 5 5 4 
    c 4 d 5 4 5 d 5 5 5 5 5 5 5 5 4 
    . c 4 5 5 5 5 d d d 5 5 5 5 5 b 
    . c 4 d 5 4 5 d 4 4 d 5 5 5 4 c 
    . . c 4 4 d 4 4 4 4 4 d d 5 d c 
    . . . c 4 4 4 4 4 4 4 4 5 5 5 4 
    . . . . c c b 4 4 4 b b 4 5 4 4 
    . . . . . . c c c c c c b b 4 . 
    `,
img`
    ...................cc...
    ...............cccc63c..
    ..............c633336c..
    ..........cc.c6cc33333c.
    .........b55c6c55c33333c
    .........ff5c6c5ff33333c
    .........ff5c6c5ff6333cc
    .........b553c355c6666cc
    ..........b55355c333333c
    .........cc55555bcc3333c
    ........c5545554b55c33c.
    ........b54b4444bb5cbb..
    ........c455b4b5554c45b.
    ........c555c4c555c4c5c.
    ........c5555c5555c4c5c.
    .........ccccccccc..ccc.
    `,
img`
    e e e . . . . e e e . . . . 
    c d d c . . c d d c . . . . 
    c b d d f f d d b c . . . . 
    c 3 b d d b d b 3 c . . . . 
    f b 3 d d d d 3 b f . . . . 
    e d d d d d d d d e . . . . 
    e d f d d d d f d e . b f b 
    f d d f d d f d d f . f d f 
    f b d d b b d d 2 f . f d f 
    . f 2 2 2 2 2 2 b b f f d f 
    . f b d d d d d d b b d b f 
    . f d d d d d b d d f f f . 
    . f d f f f d f f d f . . . 
    . f f . . f f . . f f . . . 
    `
]
ThePlayer = sprites.create(CharacterList[FighterChoice], SpriteKind.Player)
ThePlayer.setPosition(40, 35)
scene.cameraFollowSprite(ThePlayer)
controller.moveSprite(ThePlayer)
statusbar = statusbars.create(20, 4, StatusBarKind.Health)
statusbar.setColor(8, 10)
statusbar.attachToSprite(ThePlayer)
statusbar.value = 100
info.setScore(0)
Waves()
